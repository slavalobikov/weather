(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{114:function(e,t,r){"use strict";r.r(t);var a=r(1),c=r(0),s=r.n(c),n=r(18),i=r.n(n),o=(r(88),r(29)),d=r(24),l=r(30),h=r.n(l),j=r(31),u=r.n(j),m=r(41),p=r(12),b=r(68).create({baseURL:"https://api.openweathermap.org/data/2.5/"}),O=function(e){return b.get("weather?q=".concat(e,"&units=metric&lang=ru&appid=b81543affaecbb62ec96a57263178ff4"))},_=function(e){return b.get("forecast?q=".concat(e,"&lang=ru&units=metric&appid=b81543affaecbb62ec96a57263178ff4")).then((function(e){return e.data.list}))},w="forecast/SET_WEATHER",x="forecast/IS_FEATCHING",f="forecast/IS_ERROR",v={isFetching:null,weather:[],isError:null},g=function(e){return{type:x,isFetching:e}},y=function(e){return{type:f,error:e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(p.a)(Object(p.a)({},e),{},{weather:t.weather});case x:return Object(p.a)(Object(p.a)({},e),{},{isFetching:t.isFetching});case f:return Object(p.a)(Object(p.a)({},e),{},{isError:t.error});default:return e}},W=r(38),I=(r(113),r(39)),C=r.n(I),F=r(117).a.Search,N=function(e){var t=Object(c.useState)(!1),r=Object(W.a)(t,2),s=r[0],n=r[1];return Object(a.jsxs)("div",{children:[!s&&Object(a.jsxs)("span",{className:C.a.inputik,onClick:function(){return n(!0)},children:[!!e.isFetching&&Object(a.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),!e.isFetching&&Object(a.jsx)("span",{className:C.a.city,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"})]}),!!s&&Object(a.jsx)("div",{className:C.a.Input,children:Object(a.jsx)(F,{className:C.a.search,autoFocus:!0,loading:!!e.isFetching,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",onSearch:function(t){""!==t&&(e.SetWeatherThunk(t),n(!1))},enterButton:!0})})]})},T=r.p+"static/media/preloader.709ad798.svg",E=r(78),S=r.n(E),M=function(){return Object(a.jsx)("div",{className:S.a.preloader,children:Object(a.jsx)("img",{src:T,alt:"preloader"})})},R=r.p+"static/media/cloudy-day.7fb7ecfc.svg",D=r.p+"static/media/day.c33ef664.svg",A=r.p+"static/media/snowy.dce3f5e7.svg",P=r.p+"static/media/rainy.130d6250.svg",z=r(33),B=r.n(z),H=r(81),L=r(25),J=r.n(L),K=function(e){return Object(a.jsx)("div",{className:J.a.modal,children:i.a.createPortal(Object(a.jsx)("div",{className:J.a.modal,children:Object(a.jsx)("div",{className:J.a.flex,children:Object(a.jsxs)("div",{className:J.a.modalWindow,children:["\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e \u043f\u043e\u0433\u043e\u0434\u0435:",Object(a.jsxs)("div",{className:J.a.center,children:[Object(a.jsxs)("div",{className:J.a.name,children:[" ",e.weather.data.name,", ",e.weather.data.sys.country]}),Object(a.jsxs)("div",{children:["\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430: ",e.weather.data.main.temp_max," \xb0C"]}),Object(a.jsx)("div",{children:Object(a.jsx)("hr",{})}),Object(a.jsxs)("div",{children:["\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430: ",e.weather.data.main.temp_min," \xb0C"]}),Object(a.jsx)("div",{children:Object(a.jsx)("hr",{})}),Object(a.jsxs)("div",{children:["\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430: ",e.weather.data.wind.speed," \u043a\u043c/\u0447\u0430\u0441"]}),Object(a.jsx)("div",{children:Object(a.jsx)("hr",{})}),Object(a.jsxs)("div",{children:["\u0428\u0438\u0440\u043e\u0442\u0430: ",e.weather.data.coord.lon]}),Object(a.jsx)("div",{children:Object(a.jsx)("hr",{})}),Object(a.jsxs)("div",{children:["\u0414\u043e\u043b\u0433\u043e\u0442\u0430: ",e.weather.data.coord.lat]}),Object(a.jsx)("div",{children:Object(a.jsx)("hr",{})}),Object(a.jsxs)("div",{children:["\u0412\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c: ",e.weather.data.visibility]}),Object(a.jsx)(H.a,{className:J.a.btn,onClick:function(){return e.setMore(!1)},type:"primary",size:"large",children:"\u041d\u0430\u0437\u0430\u0434"})]})]})})}),document.getElementById("modalMore"))})},Z=r(54),q=r.n(Z),G=r(45),Y=r(46),V=r(48),U=r(47),X="forecast-week/SET_WEATHER_WEEK",Q="forecast-week/IS_FEATCHING_WEEK",$="forecast-week/TODAY",ee="forecast-week/SET_TOMORROW",te="forecast-week/SET_TOMORROW_TOMORROW",re={weatherWeek:[],today:[],tomorrow:[],tomorrowTomorrow:[],isFetching:null,error:null},ae=function(e){return{type:Q,isFetching:e}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(p.a)(Object(p.a)({},e),{},{weatherWeek:t.weatherWeek});case Q:return Object(p.a)(Object(p.a)({},e),{},{isFetching:t.isFetching});case $:return Object(p.a)(Object(p.a)({},e),{},{today:t.today});case ee:return Object(p.a)(Object(p.a)({},e),{},{tomorrow:t.tomorrow});case te:return Object(p.a)(Object(p.a)({},e),{},{tomorrowTomorrow:t.tomorrowTomorrow});default:return e}},se=r(34),ne=r(5),ie=r.n(ne),oe=r(17),de=r.n(oe),le=r(55),he=r.n(le),je=function(){return Object(a.jsx)("div",{className:he.a.wrapper,children:Object(a.jsxs)("div",{className:he.a.lds_ellipsis,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})})},ue=r(40),me=r.n(ue),pe=function(e){return Object(a.jsx)("div",{className:me.a.container,children:Object(a.jsxs)("div",{className:me.a.center,children:[Object(a.jsxs)("div",{children:[e.time,":00"]}),Object(a.jsxs)("div",{className:me.a.weatherImgAndTemp,children:[Object(a.jsxs)("div",{children:["Clouds"===e.weatherImgChoose&&Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:R,alt:"cloudy"})}),"Clear"===e.weatherImgChoose&&Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:D,alt:"clear"})}),"Snow"===e.weatherImgChoose&&Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:A,alt:"snowy"})}),"Mist"===e.weatherImgChoose&&Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:D,alt:"clear"})}),"Rain"===e.weatherImgChoose&&Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:P,alt:"rain"})})]}),Object(a.jsxs)("div",{className:me.a.temp,children:[Math.round(e.temp)," \xb0C"]})]}),Object(a.jsxs)("div",{children:[" ",e.description," "]}),Object(a.jsxs)("div",{children:["\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a: ",Math.round(e.feels_like)," \xb0C"]})]})})},be=function(e){var t,r=e.isFetching,c=e.setWeek,s=e.today,n=e.tomorrow,i=e.tomorrowTomorrow;return Object(a.jsxs)("div",{className:ie()((t={},Object(se.a)(t,de.a.modalPreloader,!!r),Object(se.a)(t,de.a.modal,!r),t)),children:[!!r&&Object(a.jsx)(je,{}),!r&&Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:de.a.btnCon,children:[" ",Object(a.jsx)(H.a,{className:de.a.btn,onClick:function(){return c(!1)},type:"primary",size:"large",children:"\u041d\u0430\u0437\u0430\u0434"})]}),Object(a.jsxs)("div",{className:de.a.todayInfo,children:[Object(a.jsx)("h1",{children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"}),Object(a.jsx)("div",{className:de.a.today,children:s.map((function(e){return Object(a.jsx)(pe,{feels_like:e.main.feels_like,temp:e.main.temp,description:e.weather[0].description,weatherImgChoose:e.weather[0].main,time:new Date(e.dt_txt).getHours()},e.dt)}))})]}),Object(a.jsxs)("div",{className:de.a.todayInfo,children:[Object(a.jsx)("h1",{children:"\u0417\u0430\u0432\u0442\u0440\u0430"}),Object(a.jsx)("div",{className:de.a.today,children:n.map((function(e){return Object(a.jsx)(pe,{feels_like:e.main.feels_like,temp:e.main.temp,description:e.weather[0].description,weatherImgChoose:e.weather[0].main,time:new Date(e.dt_txt).getHours()},e.dt)}))})]}),Object(a.jsxs)("div",{className:de.a.todayInfo,children:[Object(a.jsx)("h1",{children:"\u041f\u043e\u0441\u043b\u0435\u0437\u0430\u0432\u0442\u0440\u0430"}),Object(a.jsx)("div",{className:de.a.today,children:i.map((function(e){return Object(a.jsx)(pe,{feels_like:e.main.feels_like,temp:e.main.temp,description:e.weather[0].description,weatherImgChoose:e.weather[0].main,time:new Date(e.dt_txt).getHours()},e.dt)}))})]})]})]})},Oe=function(e){Object(V.a)(r,e);var t=Object(U.a)(r);function r(){return Object(G.a)(this,r),t.apply(this,arguments)}return Object(Y.a)(r,[{key:"componentDidMount",value:function(){this.props.SetWeatherWeekThunk(this.props.name)}},{key:"render",value:function(){return Object(a.jsx)("div",{children:i.a.createPortal(Object(a.jsx)(be,{isFetching:this.props.isFetching,setWeek:this.props.setWeek,today:this.props.today,tomorrow:this.props.tomorrow,tomorrowTomorrow:this.props.tomorrowTomorrow}),document.getElementById("modalWeek"))})}}]),r}(s.a.PureComponent),_e=Object(o.b)((function(e){return{weatherWeek:e.ForecastWeekReducer.weatherWeek,isFetching:e.ForecastWeekReducer.isFetching,today:e.ForecastWeekReducer.today,tomorrow:e.ForecastWeekReducer.tomorrow,tomorrowTomorrow:e.ForecastWeekReducer.tomorrowTomorrow}}),{SetWeatherWeekThunk:function(e){return function(){var t=Object(m.a)(u.a.mark((function t(r){var a,c,s,n,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(ae(!0)),t.next=3,_(e);case 3:a=t.sent,r({type:X,weatherWeek:a}),c=[],s=[],n=[],i=[],o=[],a.forEach((function(e){new Date(a[0].dt_txt).getDate()===new Date(e.dt_txt).getDate()?c.push(e):s.push(e)})),r({type:$,today:c}),s.forEach((function(e){new Date(s[0].dt_txt).getDate()===new Date(e.dt_txt).getDate()?n.push(e):i.push(e)})),r({type:ee,tomorrow:n}),i.forEach((function(e){new Date(i[0].dt_txt).getDate()===new Date(e.dt_txt).getDate()&&o.push(e)})),r({type:te,tomorrowTomorrow:o}),r(ae(!1));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Oe);var we=function(e){var t=Object(c.useState)(!1),r=Object(W.a)(t,2),s=r[0],n=r[1],i=Object(c.useState)(!1),o=Object(W.a)(i,2),d=o[0],l=o[1];return Object(a.jsxs)("div",{className:q.a.flex,children:[Object(a.jsx)(H.a,{onClick:function(){return l(!0)},type:"default",size:"large",children:"\u0420\u0430\u0441\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(a.jsx)(H.a,{className:q.a.btnleft,onClick:function(){return n(!0)},type:"primary",size:"large",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),!!s&&Object(a.jsx)(K,{setMore:n,weather:e.weather}),!!d&&Object(a.jsx)(_e,{name:e.weather.data.name,setWeek:l})]})},xe=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:B.a.city,children:e.weather.data.name}),Object(a.jsxs)("div",{className:B.a.temp,children:["Clouds"===e.weather.data.weather[0].main&&Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:R,alt:"cloudy"})}),"Clear"===e.weather.data.weather[0].main&&Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:D,alt:"clear"})}),"Snow"===e.weather.data.weather[0].main&&Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:A,alt:"snowy"})}),"Mist"===e.weather.data.weather[0].main&&Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:D,alt:"clear"})}),"Rain"===e.weather.data.weather[0].main&&Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:P,alt:"rain"})}),Object(a.jsxs)("div",{className:B.a.temperatura,children:[Math.round(e.weather.data.main.temp)," \xb0C"]})]}),Object(a.jsxs)("div",{className:B.a.desc,children:[Object(a.jsxs)("div",{children:["\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a: ",Math.round(e.weather.data.main.feels_like)]}),Object(a.jsx)("div",{className:B.a.description,children:e.weather.data.weather[0].description})]}),Object(a.jsx)(we,{weather:e.weather})]})},fe=r(119),ve=r(56),ge=r.n(ve),ye=function(e){e.error;return Object(a.jsxs)("div",{className:ge.a.ErrorMessage,children:[Object(a.jsx)("div",{className:ge.a.Icon,children:Object(a.jsx)(fe.a,{})}),Object(a.jsxs)("div",{children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u0430\u044f  \u043e\u0448\u0438\u0431\u043a\u0430! ",Object(a.jsx)("span",{children:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u044b \u0432\u0432\u0435\u043b\u0438 \u043d\u0435 \u043a\u043e\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441"})]})]})},ke=function(e){Object(V.a)(r,e);var t=Object(U.a)(r);function r(){return Object(G.a)(this,r),t.apply(this,arguments)}return Object(Y.a)(r,[{key:"componentDidMount",value:function(){this.props.SetWeatherThunk(localStorage.getItem("weatherslavalobikov"))}},{key:"render",value:function(){return Object(a.jsx)("div",{className:h.a.app,children:Object(a.jsxs)("div",{className:h.a.wrap,children:[Object(a.jsx)(N,{weather:this.props.weather,isFetching:this.props.isFetching,SetWeatherThunk:this.props.SetWeatherThunk}),!!this.props.isFetching&&Object(a.jsx)(M,{}),!!this.props.isError&&Object(a.jsx)(ye,{}),200===this.props.weather.status&&Object(a.jsx)(xe,{weather:this.props.weather})]})})}}]),r}(s.a.Component);var We=Object(d.d)(Object(o.b)((function(e){return{isFetching:e.ForecastReducer.isFetching,isError:e.ForecastReducer.isError,weather:e.ForecastReducer.weather}}),{SetWeatherThunk:function(e){return function(){var t=Object(m.a)(u.a.mark((function t(r){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(g(!0)),t.next=4,O(e);case 4:200===(a=t.sent).status&&(r(y(!1)),r({type:w,weather:a}),localStorage.setItem("weatherslavalobikov",a.data.name)),r(g(!1)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),r(y(!0)),r(g(!1));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}}))((function(e){return localStorage.getItem("weatherslavalobikov")||localStorage.setItem("weatherslavalobikov",""),localStorage.getItem("weatherslavalobikov")&&""!==localStorage.getItem("weatherslavalobikov")?Object(a.jsx)(ke,{weather:e.weather,isFetching:e.isFetching,SetWeatherThunk:e.SetWeatherThunk,isError:e.isError}):(console.log(e),Object(a.jsx)("div",{className:h.a.app,children:Object(a.jsxs)("div",{className:h.a.wrap,children:[Object(a.jsx)(N,{weather:e.weather,isFetching:e.isFetching,SetWeatherThunk:e.SetWeatherThunk}),!!e.isFetching&&Object(a.jsx)(M,{}),!!e.isError&&Object(a.jsx)(ye,{}),200===e.weather.status&&Object(a.jsx)(xe,{weather:e.weather})]})}))})),Ie=r(79),Ce=Object(d.c)({ForecastReducer:k,ForecastWeekReducer:ce}),Fe=Object(d.e)(Ce,Object(d.a)(Ie.a));i.a.render(Object(a.jsx)(o.a,{store:Fe,children:Object(a.jsx)(We,{})}),document.getElementById("root"))},17:function(e,t,r){e.exports={modalPreloader:"WeekInfo_modalPreloader__23_Ay",modal:"WeekInfo_modal__221wZ",wrap:"WeekInfo_wrap__KOKUq",today:"WeekInfo_today__3sDwT",todayInfo:"WeekInfo_todayInfo__3dhGo",btnCon:"WeekInfo_btnCon__3sEHX",btn:"WeekInfo_btn__1zjuV"}},25:function(e,t,r){e.exports={modal:"MoreInfo_modal__2js55",modalWindow:"MoreInfo_modalWindow__2g_9p",flex:"MoreInfo_flex__3ZsZ4",name:"MoreInfo_name__31CzZ",center:"MoreInfo_center__1ed4T",btn:"MoreInfo_btn__2v-dy"}},30:function(e,t,r){e.exports={wrap:"App_wrap__1Ye3P",app:"App_app__2muJh",dima:"App_dima__1Qo4z"}},33:function(e,t,r){e.exports={city:"WeatherCity_city__VdtRL",temp:"WeatherCity_temp__1w0n1",temperatura:"WeatherCity_temperatura__24Jz9",desc:"WeatherCity_desc__2nOvY",description:"WeatherCity_description__1JdhM"}},39:function(e,t,r){e.exports={inputik:"InputCity_inputik__fJuSP",Input:"InputCity_Input__1KqBx",search:"InputCity_search__2ne31",city:"InputCity_city__297Tk"}},40:function(e,t,r){e.exports={container:"InfoWeatherCard_container__eZW04",center:"InfoWeatherCard_center__1-G7F",weatherImgAndTemp:"InfoWeatherCard_weatherImgAndTemp__12YWA",temp:"InfoWeatherCard_temp__3oj5q"}},54:function(e,t,r){e.exports={flex:"ButtonComponent_flex__2KBJb",btnleft:"ButtonComponent_btnleft__1aeu_"}},55:function(e,t,r){e.exports={wrapper:"Loader_wrapper__1jRXa",lds_ellipsis:"Loader_lds_ellipsis__2t86o","lds-ellipsis1":"Loader_lds-ellipsis1__3-p7a","lds-ellipsis2":"Loader_lds-ellipsis2__2e-Ef","lds-ellipsis3":"Loader_lds-ellipsis3__ZgF5P"}},56:function(e,t,r){e.exports={ErrorMessage:"ErrorMessage_ErrorMessage__2gnFV",Icon:"ErrorMessage_Icon__1Lo3i"}},78:function(e,t,r){e.exports={preloader:"Preloader_preloader__wxDg6"}},88:function(e,t,r){}},[[114,1,2]]]);
//# sourceMappingURL=main.65c10c31.chunk.js.map