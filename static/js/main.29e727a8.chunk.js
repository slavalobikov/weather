(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{113:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a.n(n),s=a(17),i=a.n(s),o=(a(87),a(29)),d=a(24),h=a(30),l=a.n(h),j=a(31),u=a.n(j),p=a(41),b=a(14),m=a(67).create({baseURL:"https://api.openweathermap.org/data/2.5/"}),O=function(e){return m.get("weather?q=".concat(e,"&units=metric&lang=ru&appid=b81543affaecbb62ec96a57263178ff4"))},_=function(e){return m.get("forecast?q=".concat(e,"&lang=ru&units=metric&appid=b81543affaecbb62ec96a57263178ff4")).then((function(e){return e.data.list}))},x="SET_WEATHER",w="IS_FEATCHING",f="IS_ERROR",v={isFetching:null,weather:[],isError:null},g=function(e){return{type:w,isFetching:e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(b.a)(Object(b.a)({},e),{},{weather:t.weather});case w:return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});case f:return Object(b.a)(Object(b.a)({},e),{},{isError:t.error});default:return e}},y=a(38),I=(a(112),a(39)),W=a.n(I),C=a(115).a.Search,N=function(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),c=a[0],s=a[1];return Object(r.jsxs)("div",{children:[!c&&Object(r.jsxs)("span",{className:W.a.inputik,onClick:function(){return s(!0)},children:[!!e.isFetching&&Object(r.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),!e.isFetching&&Object(r.jsx)("span",{className:W.a.city,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"})]}),!!c&&Object(r.jsx)("div",{className:W.a.Input,children:Object(r.jsx)(C,{className:W.a.search,autoFocus:!0,loading:!!e.isFetching,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",onSearch:function(t){e.SetWeatherThunk(t),console.log("weather",e.weather),s(!1)},enterButton:!0})})]})},F=a.p+"static/media/preloader.709ad798.svg",S=a(77),E=a.n(S),T=function(){return Object(r.jsx)("div",{className:E.a.preloader,children:Object(r.jsx)("img",{src:F,alt:"preloader"})})},D=a.p+"static/media/cloudy-day.7fb7ecfc.svg",M=a.p+"static/media/day.c33ef664.svg",R=a.p+"static/media/snowy.dce3f5e7.svg",A=a.p+"static/media/rainy.130d6250.svg",P=a(33),z=a.n(P),B=a(80),H=a(25),J=a.n(H),L=function(e){return Object(r.jsx)("div",{className:J.a.modal,children:i.a.createPortal(Object(r.jsx)("div",{className:J.a.modal,children:Object(r.jsx)("div",{className:J.a.flex,children:Object(r.jsxs)("div",{className:J.a.modalWindow,children:["\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e \u043f\u043e\u0433\u043e\u0434\u0435:",Object(r.jsxs)("div",{className:J.a.center,children:[Object(r.jsxs)("div",{className:J.a.name,children:[" ",e.weather.data.name,", ",e.weather.data.sys.country]}),Object(r.jsxs)("div",{children:["\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430: ",e.weather.data.main.temp_max," \xb0C"]}),Object(r.jsx)("div",{children:Object(r.jsx)("hr",{})}),Object(r.jsxs)("div",{children:["\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430: ",e.weather.data.main.temp_min," \xb0C"]}),Object(r.jsx)("div",{children:Object(r.jsx)("hr",{})}),Object(r.jsxs)("div",{children:["\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430: ",e.weather.data.wind.speed," \u043a\u043c/\u0447\u0430\u0441"]}),Object(r.jsx)("div",{children:Object(r.jsx)("hr",{})}),Object(r.jsxs)("div",{children:["\u0428\u0438\u0440\u043e\u0442\u0430: ",e.weather.data.coord.lon]}),Object(r.jsx)("div",{children:Object(r.jsx)("hr",{})}),Object(r.jsxs)("div",{children:["\u0414\u043e\u043b\u0433\u043e\u0442\u0430: ",e.weather.data.coord.lat]}),Object(r.jsx)("div",{children:Object(r.jsx)("hr",{})}),Object(r.jsxs)("div",{children:["\u0412\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c: ",e.weather.data.visibility]}),Object(r.jsx)(B.a,{className:J.a.btn,onClick:function(){return e.setMore(!1)},type:"primary",size:"large",children:"\u041d\u0430\u0437\u0430\u0434"})]})]})})}),document.getElementById("modalMore"))})},K=a(54),Z=a.n(K),q=a(34),G=a(45),Y=a(46),U=a(48),V=a(47),X=a(5),Q=a.n(X),$=a(16),ee=a.n($),te=a(55),ae=a.n(te),re=function(){return Object(r.jsx)("div",{className:ae.a.wrapper,children:Object(r.jsxs)("div",{className:ae.a.lds_ellipsis,children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})})},ne="SET_WEATHER_WEEK",ce="IS_FEATCHING_WEEK",se={weatherWeek:[],isFetching:null,error:null},ie=function(e){return{type:ce,isFetching:e}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(b.a)(Object(b.a)({},e),{},{weatherWeek:t.weatherWeek});case ce:return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});default:return e}},de=a(40),he=a.n(de),le=function(e){return Object(r.jsx)("div",{className:he.a.container,children:Object(r.jsxs)("div",{className:he.a.center,children:[Object(r.jsxs)("div",{children:[e.time,":00"]}),Object(r.jsxs)("div",{className:he.a.weatherImgAndTemp,children:[Object(r.jsxs)("div",{children:["Clouds"===e.weatherImgChoose&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:D,alt:"cloudy"})}),"Clear"===e.weatherImgChoose&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:M,alt:"clear"})}),"Snow"===e.weatherImgChoose&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:R,alt:"snowy"})}),"Mist"===e.weatherImgChoose&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:M,alt:"clear"})}),"Rain"===e.weatherImgChoose&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:A,alt:"rain"})})]}),Object(r.jsxs)("div",{className:he.a.temp,children:[Math.round(e.temp)," \xb0C"]})]}),Object(r.jsxs)("div",{children:[" ",e.description," "]}),Object(r.jsxs)("div",{children:["\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a: ",Math.round(e.feels_like)," \xb0C"]})]})})},je=function(e){Object(U.a)(a,e);var t=Object(V.a)(a);function a(){return Object(G.a)(this,a),t.apply(this,arguments)}return Object(Y.a)(a,[{key:"componentDidMount",value:function(){this.props.SetWeatherWeekThunk(this.props.name)}},{key:"render",value:function(){var e,t=this,a=[],n=[],c=[],s=[],o=[];return this.props.weatherWeek.forEach((function(e){new Date(t.props.weatherWeek[0].dt_txt).getDate()===new Date(e.dt_txt).getDate()?a.push(e):n.push(e)})),n.forEach((function(e){new Date(n[0].dt_txt).getDate()===new Date(e.dt_txt).getDate()?c.push(e):s.push(e)})),s.forEach((function(e){new Date(s[0].dt_txt).getDate()===new Date(e.dt_txt).getDate()&&o.push(e)})),console.log("tomorrow",c),Object(r.jsx)("div",{children:i.a.createPortal(Object(r.jsxs)("div",{className:Q()((e={},Object(q.a)(e,ee.a.modalPreloader,!!this.props.isFetching),Object(q.a)(e,ee.a.modal,!this.props.isFetching),e)),children:[!!this.props.isFetching&&Object(r.jsx)(re,{}),!this.props.isFetching&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:ee.a.btnCon,children:[" ",Object(r.jsx)(B.a,{className:ee.a.btn,onClick:function(){return t.props.setWeek(!1)},type:"primary",size:"large",children:"\u041d\u0430\u0437\u0430\u0434"})]}),Object(r.jsxs)("div",{className:ee.a.todayInfo,children:[Object(r.jsx)("h1",{children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"}),Object(r.jsx)("div",{className:ee.a.today,children:a.map((function(e){return Object(r.jsx)(le,{feels_like:e.main.feels_like,temp:e.main.temp,description:e.weather[0].description,weatherImgChoose:e.weather[0].main,time:new Date(e.dt_txt).getHours()},e.dt)}))})]}),Object(r.jsxs)("div",{className:ee.a.todayInfo,children:[Object(r.jsx)("h1",{children:"\u0417\u0430\u0432\u0442\u0440\u0430"}),Object(r.jsx)("div",{className:ee.a.today,children:c.map((function(e){return Object(r.jsx)(le,{feels_like:e.main.feels_like,temp:e.main.temp,description:e.weather[0].description,weatherImgChoose:e.weather[0].main,time:new Date(e.dt_txt).getHours()},e.dt)}))})]}),Object(r.jsxs)("div",{className:ee.a.todayInfo,children:[Object(r.jsx)("h1",{children:"\u041f\u043e\u0441\u043b\u0435\u0437\u0430\u0432\u0442\u0440\u0430"}),Object(r.jsx)("div",{className:ee.a.today,children:o.map((function(e){return Object(r.jsx)(le,{feels_like:e.main.feels_like,temp:e.main.temp,description:e.weather[0].description,weatherImgChoose:e.weather[0].main,time:new Date(e.dt_txt).getHours()},e.dt)}))})]})]})]}),document.getElementById("modalWeek"))})}}]),a}(c.a.Component),ue=Object(o.b)((function(e){return{weatherWeek:e.ForecastWeekReducer.weatherWeek,isFetching:e.ForecastWeekReducer.isFetching}}),{SetWeatherWeekThunk:function(e){return function(){var t=Object(p.a)(u.a.mark((function t(a){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(ie(!0)),t.next=3,_(e);case 3:r=t.sent,a({type:ne,weatherWeek:r}),a(ie(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(je);var pe=function(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),o=Object(y.a)(i,2),d=o[0],h=o[1];return Object(r.jsxs)("div",{className:Z.a.flex,children:[Object(r.jsx)(B.a,{onClick:function(){return h(!0)},type:"default",size:"large",children:"\u0420\u0430\u0441\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(r.jsx)(B.a,{className:Z.a.btnleft,onClick:function(){return s(!0)},type:"primary",size:"large",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),!!c&&Object(r.jsx)(L,{setMore:s,weather:e.weather}),!!d&&Object(r.jsx)(ue,{name:e.weather.data.name,setWeek:h})]})},be=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:z.a.city,children:e.weather.data.name}),Object(r.jsxs)("div",{className:z.a.temp,children:["Clouds"===e.weather.data.weather[0].main&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:D,alt:"cloudy"})}),"Clear"===e.weather.data.weather[0].main&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:M,alt:"clear"})}),"Snow"===e.weather.data.weather[0].main&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:R,alt:"snowy"})}),"Mist"===e.weather.data.weather[0].main&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:M,alt:"clear"})}),"Rain"===e.weather.data.weather[0].main&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:A,alt:"rain"})}),Object(r.jsxs)("div",{className:z.a.temperatura,children:[Math.round(e.weather.data.main.temp)," \xb0C"]})]}),Object(r.jsxs)("div",{className:z.a.desc,children:[Object(r.jsxs)("div",{children:["\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a: ",Math.round(e.weather.data.main.feels_like)]}),Object(r.jsx)("div",{className:z.a.description,children:e.weather.data.weather[0].description})]}),Object(r.jsx)(pe,{weather:e.weather})]})},me=function(e){Object(U.a)(a,e);var t=Object(V.a)(a);function a(){return Object(G.a)(this,a),t.apply(this,arguments)}return Object(Y.a)(a,[{key:"componentDidMount",value:function(){this.props.SetWeatherThunk(localStorage.getItem("weatherslavalobikov"))}},{key:"render",value:function(){return Object(r.jsx)("div",{className:l.a.app,children:Object(r.jsxs)("div",{className:l.a.wrap,children:[Object(r.jsx)(N,{weather:this.props.weather,isFetching:this.props.isFetching,SetWeatherThunk:this.props.SetWeatherThunk}),!!this.props.isFetching&&Object(r.jsx)(T,{}),200===this.props.weather.status&&Object(r.jsx)(be,{weather:this.props.weather})]})})}}]),a}(c.a.Component);var Oe=Object(d.d)(Object(o.b)((function(e){return{isFetching:e.ForecastReducer.isFetching,isError:e.ForecastReducer.isError,weather:e.ForecastReducer.weather}}),{SetWeatherThunk:function(e){return function(){var t=Object(p.a)(u.a.mark((function t(a){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(g(!0)),t.next=3,O(e);case 3:200===(r=t.sent).status?(a({type:x,weather:r}),localStorage.setItem("weatherslavalobikov",r.data.name)):a({type:f,error:!0}),a(g(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))((function(e){return localStorage.getItem("weatherslavalobikov")||localStorage.setItem("weatherslavalobikov",""),localStorage.getItem("weatherslavalobikov")&&""!==localStorage.getItem("weatherslavalobikov")?Object(r.jsx)(me,{weather:e.weather,isFetching:e.isFetching,SetWeatherThunk:e.SetWeatherThunk}):Object(r.jsx)("div",{className:l.a.app,children:Object(r.jsxs)("div",{className:l.a.wrap,children:[Object(r.jsx)(N,{weather:e.weather,isFetching:e.isFetching,SetWeatherThunk:e.SetWeatherThunk}),!!e.isFetching&&Object(r.jsx)(T,{}),200===e.weather.status&&Object(r.jsx)(be,{weather:e.weather})]})})})),_e=a(78),xe=Object(d.c)({ForecastReducer:k,ForecastWeekReducer:oe}),we=Object(d.e)(xe,Object(d.a)(_e.a));i.a.render(Object(r.jsx)(o.a,{store:we,children:Object(r.jsx)(Oe,{})}),document.getElementById("root"))},16:function(e,t,a){e.exports={modalPreloader:"WeekInfo_modalPreloader__23_Ay",modal:"WeekInfo_modal__221wZ",wrap:"WeekInfo_wrap__KOKUq",today:"WeekInfo_today__3sDwT",todayInfo:"WeekInfo_todayInfo__3dhGo",btnCon:"WeekInfo_btnCon__3sEHX",btn:"WeekInfo_btn__1zjuV"}},25:function(e,t,a){e.exports={modal:"MoreInfo_modal__2js55",modalWindow:"MoreInfo_modalWindow__2g_9p",flex:"MoreInfo_flex__3ZsZ4",name:"MoreInfo_name__31CzZ",center:"MoreInfo_center__1ed4T",btn:"MoreInfo_btn__2v-dy"}},30:function(e,t,a){e.exports={wrap:"App_wrap__1Ye3P",app:"App_app__2muJh",dima:"App_dima__1Qo4z"}},33:function(e,t,a){e.exports={city:"WeatherCity_city__VdtRL",temp:"WeatherCity_temp__1w0n1",temperatura:"WeatherCity_temperatura__24Jz9",desc:"WeatherCity_desc__2nOvY",description:"WeatherCity_description__1JdhM"}},39:function(e,t,a){e.exports={inputik:"InputCity_inputik__fJuSP",Input:"InputCity_Input__1KqBx",search:"InputCity_search__2ne31",city:"InputCity_city__297Tk"}},40:function(e,t,a){e.exports={container:"InfoWeatherCard_container__eZW04",center:"InfoWeatherCard_center__1-G7F",weatherImgAndTemp:"InfoWeatherCard_weatherImgAndTemp__12YWA",temp:"InfoWeatherCard_temp__3oj5q"}},54:function(e,t,a){e.exports={flex:"ButtonComponent_flex__2KBJb",btnleft:"ButtonComponent_btnleft__1aeu_"}},55:function(e,t,a){e.exports={wrapper:"Loader_wrapper__1jRXa",lds_ellipsis:"Loader_lds_ellipsis__2t86o","lds-ellipsis1":"Loader_lds-ellipsis1__3-p7a","lds-ellipsis2":"Loader_lds-ellipsis2__2e-Ef","lds-ellipsis3":"Loader_lds-ellipsis3__ZgF5P"}},77:function(e,t,a){e.exports={preloader:"Preloader_preloader__wxDg6"}},87:function(e,t,a){}},[[113,1,2]]]);
//# sourceMappingURL=main.29e727a8.chunk.js.map