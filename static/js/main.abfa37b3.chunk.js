(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),s=a.n(n),c=a(18),i=a.n(c),o=(a(88),a(29)),d=a(24),l=a(30),h=a.n(l),j=a(31),u=a.n(j),p=a(42),b=a(15),m=a(68).create({baseURL:"https://api.openweathermap.org/data/2.5/"}),O=function(e){return m.get("weather?q=".concat(e,"&units=metric&lang=ru&appid=b81543affaecbb62ec96a57263178ff4"))},x=function(e){return m.get("forecast?q=".concat(e,"&lang=ru&units=metric&appid=b81543affaecbb62ec96a57263178ff4")).then((function(e){return e.data.list}))},_="forecast/SET_WEATHER",f="forecast/IS_FEATCHING",w="forecast/IS_ERROR",v={isFetching:null,weather:[],isError:null},g=function(e){return{type:f,isFetching:e}},k=function(e){return{type:w,error:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(b.a)(Object(b.a)({},e),{},{weather:t.weather});case f:return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});case w:return Object(b.a)(Object(b.a)({},e),{},{isError:t.error});default:return e}},I=a(38),W=(a(113),a(39)),C=a.n(W),N=a(117).a.Search,F=function(e){var t=Object(n.useState)(!1),a=Object(I.a)(t,2),s=a[0],c=a[1];return Object(r.jsxs)("div",{children:[!s&&Object(r.jsxs)("span",{className:C.a.inputik,onClick:function(){return c(!0)},children:[!!e.isFetching&&Object(r.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),!e.isFetching&&Object(r.jsx)("span",{className:C.a.city,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"})]}),!!s&&Object(r.jsx)("div",{className:C.a.Input,children:Object(r.jsx)(N,{className:C.a.search,autoFocus:!0,loading:!!e.isFetching,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",onSearch:function(t){""!==t&&(e.SetWeatherThunk(t),c(!1))},enterButton:!0})})]})},E=a.p+"static/media/preloader.709ad798.svg",S=a(78),T=a.n(S),M=function(){return Object(r.jsx)("div",{className:T.a.preloader,children:Object(r.jsx)("img",{src:E,alt:"preloader"})})},D=a.p+"static/media/cloudy-day.7fb7ecfc.svg",R=a.p+"static/media/day.c33ef664.svg",A=a.p+"static/media/snowy.dce3f5e7.svg",P=a.p+"static/media/rainy.130d6250.svg",z=a(33),B=a.n(z),H=a(81),L=a(25),J=a.n(L),K=function(e){return Object(r.jsx)("div",{className:J.a.modal,children:i.a.createPortal(Object(r.jsx)("div",{className:J.a.modal,children:Object(r.jsx)("div",{className:J.a.flex,children:Object(r.jsxs)("div",{className:J.a.modalWindow,children:["\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e \u043f\u043e\u0433\u043e\u0434\u0435:",Object(r.jsxs)("div",{className:J.a.center,children:[Object(r.jsxs)("div",{className:J.a.name,children:[" ",e.weather.data.name,", ",e.weather.data.sys.country]}),Object(r.jsxs)("div",{children:["\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430: ",e.weather.data.main.temp_max," \xb0C"]}),Object(r.jsx)("div",{children:Object(r.jsx)("hr",{})}),Object(r.jsxs)("div",{children:["\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430: ",e.weather.data.main.temp_min," \xb0C"]}),Object(r.jsx)("div",{children:Object(r.jsx)("hr",{})}),Object(r.jsxs)("div",{children:["\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430: ",e.weather.data.wind.speed," \u043a\u043c/\u0447\u0430\u0441"]}),Object(r.jsx)("div",{children:Object(r.jsx)("hr",{})}),Object(r.jsxs)("div",{children:["\u0428\u0438\u0440\u043e\u0442\u0430: ",e.weather.data.coord.lon]}),Object(r.jsx)("div",{children:Object(r.jsx)("hr",{})}),Object(r.jsxs)("div",{children:["\u0414\u043e\u043b\u0433\u043e\u0442\u0430: ",e.weather.data.coord.lat]}),Object(r.jsx)("div",{children:Object(r.jsx)("hr",{})}),Object(r.jsxs)("div",{children:["\u0412\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c: ",e.weather.data.visibility]}),Object(r.jsx)(H.a,{className:J.a.btn,onClick:function(){return e.setMore(!1)},type:"primary",size:"large",children:"\u041d\u0430\u0437\u0430\u0434"})]})]})})}),document.getElementById("modalMore"))})},Z=a(54),q=a.n(Z),G=a(46),V=a(47),Y=a(49),U=a(48),X=a(5),Q=a.n(X),$=a(16),ee=a.n($),te=a(55),ae=a.n(te),re=function(){return Object(r.jsx)("div",{className:ae.a.wrapper,children:Object(r.jsxs)("div",{className:ae.a.lds_ellipsis,children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})})},ne="forecast-week/SET_WEATHER_WEEK",se="forecast-week/IS_FEATCHING_WEEK",ce={weatherWeek:[],isFetching:null,error:null},ie=function(e){return{type:se,isFetching:e}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(b.a)(Object(b.a)({},e),{},{weatherWeek:t.weatherWeek});case se:return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});default:return e}},de=a(40),le=a.n(de),he=function(e){return Object(r.jsx)("div",{className:le.a.container,children:Object(r.jsxs)("div",{className:le.a.center,children:[Object(r.jsxs)("div",{children:[e.time,":00"]}),Object(r.jsxs)("div",{className:le.a.weatherImgAndTemp,children:[Object(r.jsxs)("div",{children:["Clouds"===e.weatherImgChoose&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:D,alt:"cloudy"})}),"Clear"===e.weatherImgChoose&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:R,alt:"clear"})}),"Snow"===e.weatherImgChoose&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:A,alt:"snowy"})}),"Mist"===e.weatherImgChoose&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:R,alt:"clear"})}),"Rain"===e.weatherImgChoose&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:P,alt:"rain"})})]}),Object(r.jsxs)("div",{className:le.a.temp,children:[Math.round(e.temp)," \xb0C"]})]}),Object(r.jsxs)("div",{children:[" ",e.description," "]}),Object(r.jsxs)("div",{children:["\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a: ",Math.round(e.feels_like)," \xb0C"]})]})})},je=a(34),ue=function(e){var t,a=e.isFetching,n=e.setWeek,s=e.today,c=e.tomorrow,i=e.tomorrowTomorrow;return Object(r.jsxs)("div",{className:Q()((t={},Object(je.a)(t,ee.a.modalPreloader,!!a),Object(je.a)(t,ee.a.modal,!a),t)),children:[!!a&&Object(r.jsx)(re,{}),!a&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:ee.a.btnCon,children:[" ",Object(r.jsx)(H.a,{className:ee.a.btn,onClick:function(){return n(!1)},type:"primary",size:"large",children:"\u041d\u0430\u0437\u0430\u0434"})]}),Object(r.jsxs)("div",{className:ee.a.todayInfo,children:[Object(r.jsx)("h1",{children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f v2"}),Object(r.jsx)("div",{className:ee.a.today,children:s.map((function(e){return Object(r.jsx)(he,{feels_like:e.main.feels_like,temp:e.main.temp,description:e.weather[0].description,weatherImgChoose:e.weather[0].main,time:new Date(e.dt_txt).getHours()},e.dt)}))})]}),Object(r.jsxs)("div",{className:ee.a.todayInfo,children:[Object(r.jsx)("h1",{children:"\u0417\u0430\u0432\u0442\u0440\u0430"}),Object(r.jsx)("div",{className:ee.a.today,children:c.map((function(e){return Object(r.jsx)(he,{feels_like:e.main.feels_like,temp:e.main.temp,description:e.weather[0].description,weatherImgChoose:e.weather[0].main,time:new Date(e.dt_txt).getHours()},e.dt)}))})]}),Object(r.jsxs)("div",{className:ee.a.todayInfo,children:[Object(r.jsx)("h1",{children:"\u041f\u043e\u0441\u043b\u0435\u0437\u0430\u0432\u0442\u0440\u0430"}),Object(r.jsx)("div",{className:ee.a.today,children:i.map((function(e){return Object(r.jsx)(he,{feels_like:e.main.feels_like,temp:e.main.temp,description:e.weather[0].description,weatherImgChoose:e.weather[0].main,time:new Date(e.dt_txt).getHours()},e.dt)}))})]})]})]})},pe=function(e){Object(Y.a)(a,e);var t=Object(U.a)(a);function a(){return Object(G.a)(this,a),t.apply(this,arguments)}return Object(V.a)(a,[{key:"componentDidMount",value:function(){this.props.SetWeatherWeekThunk(this.props.name)}},{key:"render",value:function(){var e=this,t=[],a=[],n=[],s=[],c=[];return this.props.weatherWeek.forEach((function(r){new Date(e.props.weatherWeek[0].dt_txt).getDate()===new Date(r.dt_txt).getDate()?t.push(r):a.push(r)})),a.forEach((function(e){new Date(a[0].dt_txt).getDate()===new Date(e.dt_txt).getDate()?n.push(e):s.push(e)})),s.forEach((function(e){new Date(s[0].dt_txt).getDate()===new Date(e.dt_txt).getDate()&&c.push(e)})),console.log("tomorrow",n),Object(r.jsx)("div",{children:i.a.createPortal(Object(r.jsx)(ue,{isFetching:this.props.isFetching,setWeek:this.props.setWeek,today:t,tomorrow:n,tomorrowTomorrow:c}),document.getElementById("modalWeek"))})}}]),a}(s.a.Component),be=Object(o.b)((function(e){return{weatherWeek:e.ForecastWeekReducer.weatherWeek,isFetching:e.ForecastWeekReducer.isFetching}}),{SetWeatherWeekThunk:function(e){return function(){var t=Object(p.a)(u.a.mark((function t(a){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(ie(!0)),t.next=3,x(e);case 3:r=t.sent,a({type:ne,weatherWeek:r}),a(ie(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(pe);var me=function(e){var t=Object(n.useState)(!1),a=Object(I.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)(!1),o=Object(I.a)(i,2),d=o[0],l=o[1];return Object(r.jsxs)("div",{className:q.a.flex,children:[Object(r.jsx)(H.a,{onClick:function(){return l(!0)},type:"default",size:"large",children:"\u0420\u0430\u0441\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(r.jsx)(H.a,{className:q.a.btnleft,onClick:function(){return c(!0)},type:"primary",size:"large",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),!!s&&Object(r.jsx)(K,{setMore:c,weather:e.weather}),!!d&&Object(r.jsx)(be,{name:e.weather.data.name,setWeek:l})]})},Oe=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:B.a.city,children:e.weather.data.name}),Object(r.jsxs)("div",{className:B.a.temp,children:["Clouds"===e.weather.data.weather[0].main&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:D,alt:"cloudy"})}),"Clear"===e.weather.data.weather[0].main&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:R,alt:"clear"})}),"Snow"===e.weather.data.weather[0].main&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:A,alt:"snowy"})}),"Mist"===e.weather.data.weather[0].main&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:R,alt:"clear"})}),"Rain"===e.weather.data.weather[0].main&&Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:P,alt:"rain"})}),Object(r.jsxs)("div",{className:B.a.temperatura,children:[Math.round(e.weather.data.main.temp)," \xb0C"]})]}),Object(r.jsxs)("div",{className:B.a.desc,children:[Object(r.jsxs)("div",{children:["\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a: ",Math.round(e.weather.data.main.feels_like)]}),Object(r.jsx)("div",{className:B.a.description,children:e.weather.data.weather[0].description})]}),Object(r.jsx)(me,{weather:e.weather})]})},xe=a(119),_e=a(56),fe=a.n(_e),we=function(e){e.error;return Object(r.jsxs)("div",{className:fe.a.ErrorMessage,children:[Object(r.jsx)("div",{className:fe.a.Icon,children:Object(r.jsx)(xe.a,{})}),Object(r.jsxs)("div",{children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u0430\u044f  \u043e\u0448\u0438\u0431\u043a\u0430! ",Object(r.jsx)("span",{children:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u044b \u0432\u0432\u0435\u043b\u0438 \u043d\u0435 \u043a\u043e\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441"})]})]})},ve=function(e){Object(Y.a)(a,e);var t=Object(U.a)(a);function a(){return Object(G.a)(this,a),t.apply(this,arguments)}return Object(V.a)(a,[{key:"componentDidMount",value:function(){this.props.SetWeatherThunk(localStorage.getItem("weatherslavalobikov"))}},{key:"render",value:function(){return Object(r.jsx)("div",{className:h.a.app,children:Object(r.jsxs)("div",{className:h.a.wrap,children:[Object(r.jsx)(F,{weather:this.props.weather,isFetching:this.props.isFetching,SetWeatherThunk:this.props.SetWeatherThunk}),!!this.props.isFetching&&Object(r.jsx)(M,{}),!!this.props.isError&&Object(r.jsx)(we,{}),200===this.props.weather.status&&Object(r.jsx)(Oe,{weather:this.props.weather})]})})}}]),a}(s.a.Component);var ge=Object(d.d)(Object(o.b)((function(e){return{isFetching:e.ForecastReducer.isFetching,isError:e.ForecastReducer.isError,weather:e.ForecastReducer.weather}}),{SetWeatherThunk:function(e){return function(){var t=Object(p.a)(u.a.mark((function t(a){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(g(!0)),t.next=4,O(e);case 4:200===(r=t.sent).status&&(a(k(!1)),a({type:_,weather:r}),localStorage.setItem("weatherslavalobikov",r.data.name)),a(g(!1)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),a(k(!0)),a(g(!1));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}}))((function(e){return localStorage.getItem("weatherslavalobikov")||localStorage.setItem("weatherslavalobikov",""),localStorage.getItem("weatherslavalobikov")&&""!==localStorage.getItem("weatherslavalobikov")?Object(r.jsx)(ve,{weather:e.weather,isFetching:e.isFetching,SetWeatherThunk:e.SetWeatherThunk,isError:e.isError}):(console.log(e),Object(r.jsx)("div",{className:h.a.app,children:Object(r.jsxs)("div",{className:h.a.wrap,children:[Object(r.jsx)(F,{weather:e.weather,isFetching:e.isFetching,SetWeatherThunk:e.SetWeatherThunk}),!!e.isFetching&&Object(r.jsx)(M,{}),!!e.isError&&Object(r.jsx)(we,{}),200===e.weather.status&&Object(r.jsx)(Oe,{weather:e.weather})]})}))})),ke=a(79),ye=Object(d.c)({ForecastReducer:y,ForecastWeekReducer:oe}),Ie=Object(d.e)(ye,Object(d.a)(ke.a));i.a.render(Object(r.jsx)(o.a,{store:Ie,children:Object(r.jsx)(ge,{})}),document.getElementById("root"))},16:function(e,t,a){e.exports={modalPreloader:"WeekInfo_modalPreloader__23_Ay",modal:"WeekInfo_modal__221wZ",wrap:"WeekInfo_wrap__KOKUq",today:"WeekInfo_today__3sDwT",todayInfo:"WeekInfo_todayInfo__3dhGo",btnCon:"WeekInfo_btnCon__3sEHX",btn:"WeekInfo_btn__1zjuV"}},25:function(e,t,a){e.exports={modal:"MoreInfo_modal__2js55",modalWindow:"MoreInfo_modalWindow__2g_9p",flex:"MoreInfo_flex__3ZsZ4",name:"MoreInfo_name__31CzZ",center:"MoreInfo_center__1ed4T",btn:"MoreInfo_btn__2v-dy"}},30:function(e,t,a){e.exports={wrap:"App_wrap__1Ye3P",app:"App_app__2muJh",dima:"App_dima__1Qo4z"}},33:function(e,t,a){e.exports={city:"WeatherCity_city__VdtRL",temp:"WeatherCity_temp__1w0n1",temperatura:"WeatherCity_temperatura__24Jz9",desc:"WeatherCity_desc__2nOvY",description:"WeatherCity_description__1JdhM"}},39:function(e,t,a){e.exports={inputik:"InputCity_inputik__fJuSP",Input:"InputCity_Input__1KqBx",search:"InputCity_search__2ne31",city:"InputCity_city__297Tk"}},40:function(e,t,a){e.exports={container:"InfoWeatherCard_container__eZW04",center:"InfoWeatherCard_center__1-G7F",weatherImgAndTemp:"InfoWeatherCard_weatherImgAndTemp__12YWA",temp:"InfoWeatherCard_temp__3oj5q"}},54:function(e,t,a){e.exports={flex:"ButtonComponent_flex__2KBJb",btnleft:"ButtonComponent_btnleft__1aeu_"}},55:function(e,t,a){e.exports={wrapper:"Loader_wrapper__1jRXa",lds_ellipsis:"Loader_lds_ellipsis__2t86o","lds-ellipsis1":"Loader_lds-ellipsis1__3-p7a","lds-ellipsis2":"Loader_lds-ellipsis2__2e-Ef","lds-ellipsis3":"Loader_lds-ellipsis3__ZgF5P"}},56:function(e,t,a){e.exports={ErrorMessage:"ErrorMessage_ErrorMessage__2gnFV",Icon:"ErrorMessage_Icon__1Lo3i"}},78:function(e,t,a){e.exports={preloader:"Preloader_preloader__wxDg6"}},88:function(e,t,a){}},[[114,1,2]]]);
//# sourceMappingURL=main.abfa37b3.chunk.js.map